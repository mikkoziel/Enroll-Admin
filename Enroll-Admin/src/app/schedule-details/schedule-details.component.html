<div *ngIf="data != undefined" class="flex-column">
    <!-- <p>schedule-details works!</p> -->
    <!-- <p>{{ data?.id }}</p> -->
    <div class="schedule-desc flex-child">
        <p>Name: {{ data.schedule.name }}</p>
        <p>Semester: {{ data.schedule.semester }}</p>   
        <p>Description: {{ data.schedule.description }}</p>  
        <p>Status: {{ data.schedule.status }}</p> 
    </div>
    
    <div class="flex-child">
        <button mat-stroked-button color="primary" (click)="updateSchedule()">Modify Schedule</button>
        <button mat-stroked-button color="primary" (click)="startEnrollment()">Start Enrollment</button>
        <button mat-stroked-button color="primary" (click)="deleteSchedule()">Delete Schedule</button>
    </div>
    
    <mat-divider></mat-divider>

    <mat-accordion class="flex-child">
        <mat-expansion-panel (opened)="classpanelOpenState"
                             (closed)="classpanelOpenState">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Classes
                </mat-panel-title>
                <!-- <mat-panel-description> -->
                <!-- </mat-panel-description> -->
            </mat-expansion-panel-header>

            <mat-divider></mat-divider>
            <app-class-overview [data]="data"></app-class-overview>
        </mat-expansion-panel>
    </mat-accordion>

    <div class="flex-child">
        <button mat-stroked-button color="primary" (click)="addClass()">Add Class</button>
        <app-new-class *ngFor="let class of addClassesArr; index as i"
            [component_id]=class 
            [schedule_id]="data.schedule.id"
            (hideEvent)="hideNewClass($event)">
            <mat-divider></mat-divider>
        </app-new-class>
    </div>

    <mat-divider></mat-divider>
    
    <mat-accordion class="flex-child">
        <mat-expansion-panel (opened)="userpanelOpenState"
                             (closed)="userpanelOpenState">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Users
                </mat-panel-title>
                <!-- <mat-panel-description> -->
                <!-- </mat-panel-description> -->
            </mat-expansion-panel-header>

            <mat-divider></mat-divider>
            <ul *ngFor="let user of data.users">
                {{user.name}} {{user.surname}}
            </ul>
        </mat-expansion-panel>
    </mat-accordion>

    <div class="flex-child">
        <button mat-stroked-button color="primary" (click)="openAddUser()">Add User</button>
        
        <mat-accordion *ngIf="addUserFlag" class="flex-child">
            <mat-expansion-panel (opened)="addUserPanelOpenState"
                                (closed)="addUserPanelOpenState">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Add User
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <mat-divider></mat-divider>
                <ul *ngFor="let user of allUsers">
                    {{user.name}} {{user.surname}}
                    <button *ngIf="!checkIfUserAdded(user.id)" mat-stroked-button color="primary" (click)="addUser(user.id)">Add</button>
                    <button *ngIf="checkIfUserAdded(user.id)" mat-stroked-button color="primary" disabled=true>Already added</button>
                </ul>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>